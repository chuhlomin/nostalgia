import { app, protocol, net, BrowserWindow, shell } from "electron";
import electronUpdater from "electron-updater";
import { URL as URL$1 } from "node:url";
class ModuleRunner {
  #promise;
  constructor() {
    this.#promise = Promise.resolve();
  }
  then(onfulfilled, onrejected) {
    return this.#promise.then(onfulfilled, onrejected);
  }
  init(module) {
    const p = module.enable(this.#createModuleContext());
    if (p instanceof Promise) {
      this.#promise = this.#promise.then(() => p);
    }
    return this;
  }
  #createModuleContext() {
    return {
      app
    };
  }
}
function createModuleRunner() {
  return new ModuleRunner();
}
protocol.registerSchemesAsPrivileged([
  {
    scheme: "vhs",
    privileges: {
      bypassCSP: true,
      stream: true
    }
  }
]);
class WindowManager {
  #preload;
  #renderer;
  #openDevTools;
  constructor({ initConfig, openDevTools = false }) {
    this.#preload = initConfig.preload;
    this.#renderer = initConfig.renderer;
    this.#openDevTools = openDevTools;
  }
  async enable({ app: app2 }) {
    await app2.whenReady();
    await this.restoreOrCreateWindow(true);
    app2.on("second-instance", () => this.restoreOrCreateWindow(true));
    app2.on("activate", () => this.restoreOrCreateWindow(true));
  }
  async createWindow() {
    protocol.handle("vhs", (request) => {
      const file = request.url.replace("vhs://", "file://");
      return net.fetch(file);
    });
    const browserWindow = new BrowserWindow({
      show: false,
      // Use the 'ready-to-show' event to show the instantiated BrowserWindow.
      webPreferences: {
        nodeIntegration: false,
        contextIsolation: true,
        sandbox: false,
        // Needed to read files from the file system.
        webviewTag: false,
        // The webview tag is not recommended. Consider alternatives like an iframe or Electron's BrowserView. @see https://www.electronjs.org/docs/latest/api/webview-tag#warning
        preload: this.#preload.path
      }
    });
    if (this.#renderer instanceof URL) {
      await browserWindow.loadURL(this.#renderer.href);
    } else {
      await browserWindow.loadFile(this.#renderer.path);
    }
    return browserWindow;
  }
  async restoreOrCreateWindow(show = false) {
    let window = BrowserWindow.getAllWindows().find((w) => !w.isDestroyed());
    if (window === void 0) {
      window = await this.createWindow();
    }
    if (!show) {
      return window;
    }
    if (window.isMinimized()) {
      window.restore();
    }
    window?.show();
    if (this.#openDevTools) {
      window?.webContents.openDevTools();
    }
    window.focus();
    return window;
  }
  async registerHandle() {
    protocol.handle("vhs", (request) => {
      return net.fetch("file:///Users/chuhlomin/Video/%D0%9C%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%20%D0%9A%D0%B0%D1%86%20%D1%87%D0%B8%D1%82%D0%B0%D0%B5%D1%82%20%D1%80%D1%8D%D0%BF%20%D0%BF%D0%BE%D0%B4%20%D0%B1%D0%B8%D1%82%20%D0%9A%D1%80%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%BE%D0%BA.%20@Max_Kats%20[xRJex9wuQd8].mov ");
    });
  }
}
function createWindowManagerModule(...args) {
  return new WindowManager(...args);
}
class ApplicationTerminatorOnLastWindowClose {
  enable({ app: app2 }) {
    app2.on("window-all-closed", () => app2.quit());
  }
}
function terminateAppOnLastWindowClose(...args) {
  return new ApplicationTerminatorOnLastWindowClose(...args);
}
class HardwareAccelerationModule {
  #shouldBeDisabled;
  constructor({ enable }) {
    this.#shouldBeDisabled = !enable;
  }
  enable({ app: app2 }) {
    if (this.#shouldBeDisabled) {
      app2.disableHardwareAcceleration();
    }
  }
}
function hardwareAccelerationMode(...args) {
  return new HardwareAccelerationModule(...args);
}
class AutoUpdater {
  #logger;
  #notification;
  constructor({
    logger = null,
    downloadNotification = void 0
  } = {}) {
    this.#logger = logger;
    this.#notification = downloadNotification;
  }
  async enable() {
    await this.runAutoUpdater();
  }
  getAutoUpdater() {
    const { autoUpdater: autoUpdater2 } = electronUpdater;
    return autoUpdater2;
  }
  async runAutoUpdater() {
    const updater = this.getAutoUpdater();
    try {
      updater.logger = this.#logger || null;
      updater.fullChangelog = true;
      if (void 0) ;
      return await updater.checkForUpdatesAndNotify(this.#notification);
    } catch (error) {
      if (error instanceof Error) {
        if (error.message.includes("No published versions")) {
          return null;
        }
      }
      throw error;
    }
  }
}
function autoUpdater(...args) {
  return new AutoUpdater(...args);
}
class AbstractSecurityRule {
  enable({ app: app2 }) {
    app2.on("web-contents-created", (_, contents) => this.applyRule(contents));
  }
}
class BlockNotAllowedOrigins extends AbstractSecurityRule {
  #allowedOrigins;
  constructor(allowedOrigins = /* @__PURE__ */ new Set()) {
    super();
    this.#allowedOrigins = structuredClone(allowedOrigins);
  }
  applyRule(contents) {
    contents.on("will-navigate", (event, url) => {
      const { origin } = new URL$1(url);
      if (this.#allowedOrigins.has(origin)) {
        return;
      }
      event.preventDefault();
      {
        console.warn(`Blocked navigating to disallowed origin: ${origin}`);
      }
    });
  }
}
function allowInternalOrigins(...args) {
  return new BlockNotAllowedOrigins(...args);
}
class ExternalUrls {
  #externalUrls;
  constructor(externalUrls) {
    this.#externalUrls = externalUrls;
  }
  enable({ app: app2 }) {
    app2.on("web-contents-created", (_, contents) => {
      contents.setWindowOpenHandler(({ url }) => {
        const { origin } = new URL$1(url);
        if (this.#externalUrls.has(origin)) {
          shell.openExternal(url).catch(console.error);
        } else {
          console.warn(`Blocked the opening of a disallowed external origin: ${origin}`);
        }
        return { action: "deny" };
      });
    });
  }
}
function allowExternalUrls(...args) {
  return new ExternalUrls(...args);
}
async function initApp(initConfig) {
  const moduleRunner = createModuleRunner().init(createWindowManagerModule({ initConfig, openDevTools: true })).init(terminateAppOnLastWindowClose()).init(hardwareAccelerationMode({ enable: true })).init(autoUpdater()).init(allowInternalOrigins(
    new Set(initConfig.renderer instanceof URL ? [initConfig.renderer.origin] : [])
  )).init(
    allowExternalUrls(
      new Set(
        initConfig.renderer instanceof URL ? [
          "https://vite.dev",
          "https://developer.mozilla.org",
          "https://solidjs.com",
          "https://qwik.dev",
          "https://lit.dev",
          "https://react.dev",
          "https://preactjs.com",
          "https://www.typescriptlang.org",
          "https://vuejs.org"
        ] : []
      )
    )
  );
  await moduleRunner;
}
export {
  initApp
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9Nb2R1bGVSdW5uZXIudHMiLCIuLi9zcmMvbW9kdWxlcy9XaW5kb3dNYW5hZ2VyLnRzIiwiLi4vc3JjL21vZHVsZXMvQXBwbGljYXRpb25UZXJtaW5hdG9yT25MYXN0V2luZG93Q2xvc2UudHMiLCIuLi9zcmMvbW9kdWxlcy9IYXJkd2FyZUFjY2VsZXJhdGlvbk1vZHVsZS50cyIsIi4uL3NyYy9tb2R1bGVzL0F1dG9VcGRhdGVyLnRzIiwiLi4vc3JjL21vZHVsZXMvQWJzdHJhY3RTZWN1cml0eU1vZHVsZS50cyIsIi4uL3NyYy9tb2R1bGVzL0Jsb2NrTm90QWxsb3dkT3JpZ2lucy50cyIsIi4uL3NyYy9tb2R1bGVzL0V4dGVybmFsVXJscy50cyIsIi4uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FwcE1vZHVsZX0gZnJvbSAnLi9BcHBNb2R1bGUuanMnO1xuaW1wb3J0IHtNb2R1bGVDb250ZXh0fSBmcm9tICcuL01vZHVsZUNvbnRleHQuanMnO1xuaW1wb3J0IHthcHB9IGZyb20gJ2VsZWN0cm9uJztcblxuY2xhc3MgTW9kdWxlUnVubmVyIGltcGxlbWVudHMgUHJvbWlzZUxpa2U8dm9pZD4ge1xuICAjcHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiNwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICB0aGVuPFRSZXN1bHQxID0gdm9pZCwgVFJlc3VsdDIgPSBuZXZlcj4ob25mdWxmaWxsZWQ/OiAoKHZhbHVlOiB2b2lkKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPikgfCBudWxsIHwgdW5kZWZpbmVkLCBvbnJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pIHwgbnVsbCB8IHVuZGVmaW5lZCk6IFByb21pc2VMaWtlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2UudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gICAgfVxuXG4gIGluaXQobW9kdWxlOiBBcHBNb2R1bGUpIHtcbiAgICBjb25zdCBwID0gbW9kdWxlLmVuYWJsZSh0aGlzLiNjcmVhdGVNb2R1bGVDb250ZXh0KCkpO1xuXG4gICAgaWYgKHAgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICB0aGlzLiNwcm9taXNlID0gdGhpcy4jcHJvbWlzZS50aGVuKCgpID0+IHApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgI2NyZWF0ZU1vZHVsZUNvbnRleHQoKTogTW9kdWxlQ29udGV4dCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFwcCxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2R1bGVSdW5uZXIoKSB7XG4gIHJldHVybiBuZXcgTW9kdWxlUnVubmVyKCk7XG59XG4iLCJpbXBvcnQgdHlwZSB7QXBwTW9kdWxlfSBmcm9tICcuLi9BcHBNb2R1bGUuanMnO1xuaW1wb3J0IHtNb2R1bGVDb250ZXh0fSBmcm9tICcuLi9Nb2R1bGVDb250ZXh0LmpzJztcbmltcG9ydCB7QnJvd3NlcldpbmRvd30gZnJvbSAnZWxlY3Ryb24nO1xuaW1wb3J0IHR5cGUge0FwcEluaXRDb25maWd9IGZyb20gJy4uL0FwcEluaXRDb25maWcuanMnO1xuaW1wb3J0IHtwcm90b2NvbCwgbmV0fSBmcm9tICdlbGVjdHJvbic7XG5pbXBvcnQge3JlYWRGaWxlU3luY30gZnJvbSAnZnMnO1xuXG5wcm90b2NvbC5yZWdpc3RlclNjaGVtZXNBc1ByaXZpbGVnZWQoW1xuICB7XG4gICAgc2NoZW1lOiAndmhzJyxcbiAgICBwcml2aWxlZ2VzOiB7XG4gICAgICAgIGJ5cGFzc0NTUDogdHJ1ZSxcbiAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgIH1cbiAgfVxuXSlcblxuY2xhc3MgV2luZG93TWFuYWdlciBpbXBsZW1lbnRzIEFwcE1vZHVsZSB7XG4gIHJlYWRvbmx5ICNwcmVsb2FkOiB7cGF0aDogc3RyaW5nfTtcbiAgcmVhZG9ubHkgI3JlbmRlcmVyOiB7cGF0aDogc3RyaW5nfSB8IFVSTDtcbiAgcmVhZG9ubHkgI29wZW5EZXZUb29scztcblxuICBjb25zdHJ1Y3Rvcih7aW5pdENvbmZpZywgb3BlbkRldlRvb2xzID0gZmFsc2V9OiB7aW5pdENvbmZpZzogQXBwSW5pdENvbmZpZywgb3BlbkRldlRvb2xzPzogYm9vbGVhbn0pIHtcbiAgICB0aGlzLiNwcmVsb2FkID0gaW5pdENvbmZpZy5wcmVsb2FkO1xuICAgIHRoaXMuI3JlbmRlcmVyID0gaW5pdENvbmZpZy5yZW5kZXJlcjtcbiAgICB0aGlzLiNvcGVuRGV2VG9vbHMgPSBvcGVuRGV2VG9vbHM7XG4gIH1cblxuICBhc3luYyBlbmFibGUoe2FwcH06IE1vZHVsZUNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBhcHAud2hlblJlYWR5KCk7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlT3JDcmVhdGVXaW5kb3codHJ1ZSk7XG4gICAgYXBwLm9uKCdzZWNvbmQtaW5zdGFuY2UnLCAoKSA9PiB0aGlzLnJlc3RvcmVPckNyZWF0ZVdpbmRvdyh0cnVlKSk7XG4gICAgYXBwLm9uKCdhY3RpdmF0ZScsICgpID0+IHRoaXMucmVzdG9yZU9yQ3JlYXRlV2luZG93KHRydWUpKTtcbiAgICAvLyBhcHAub24oJ3JlYWR5JywgKCkgPT4gdGhpcy5yZWdpc3RlckhhbmRsZSgpKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVdpbmRvdygpOiBQcm9taXNlPEJyb3dzZXJXaW5kb3c+IHtcbiAgICBwcm90b2NvbC5oYW5kbGUoJ3ZocycsIChyZXF1ZXN0KSA9PiB7XG4gICAgICAvLyBzdHJlYW0gbG9jYWwgZmlsZSB0byB0aGUgY2xpZW50IHRvIGJlIHVzZWQgaW4gdGhlIHZpZGVvIHRhZ1xuICAgICAgY29uc3QgZmlsZSA9IHJlcXVlc3QudXJsLnJlcGxhY2UoJ3ZoczovLycsICdmaWxlOi8vJyk7XG4gICAgICByZXR1cm4gbmV0LmZldGNoKGZpbGUpO1xuICAgIH0pXG5cbiAgICBjb25zdCBicm93c2VyV2luZG93ID0gbmV3IEJyb3dzZXJXaW5kb3coe1xuICAgICAgc2hvdzogZmFsc2UsIC8vIFVzZSB0aGUgJ3JlYWR5LXRvLXNob3cnIGV2ZW50IHRvIHNob3cgdGhlIGluc3RhbnRpYXRlZCBCcm93c2VyV2luZG93LlxuICAgICAgd2ViUHJlZmVyZW5jZXM6IHtcbiAgICAgICAgbm9kZUludGVncmF0aW9uOiBmYWxzZSxcbiAgICAgICAgY29udGV4dElzb2xhdGlvbjogdHJ1ZSxcbiAgICAgICAgc2FuZGJveDogZmFsc2UsIC8vIE5lZWRlZCB0byByZWFkIGZpbGVzIGZyb20gdGhlIGZpbGUgc3lzdGVtLlxuICAgICAgICB3ZWJ2aWV3VGFnOiBmYWxzZSwgLy8gVGhlIHdlYnZpZXcgdGFnIGlzIG5vdCByZWNvbW1lbmRlZC4gQ29uc2lkZXIgYWx0ZXJuYXRpdmVzIGxpa2UgYW4gaWZyYW1lIG9yIEVsZWN0cm9uJ3MgQnJvd3NlclZpZXcuIEBzZWUgaHR0cHM6Ly93d3cuZWxlY3Ryb25qcy5vcmcvZG9jcy9sYXRlc3QvYXBpL3dlYnZpZXctdGFnI3dhcm5pbmdcbiAgICAgICAgcHJlbG9hZDogdGhpcy4jcHJlbG9hZC5wYXRoLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLiNyZW5kZXJlciBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgYXdhaXQgYnJvd3NlcldpbmRvdy5sb2FkVVJMKHRoaXMuI3JlbmRlcmVyLmhyZWYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBicm93c2VyV2luZG93LmxvYWRGaWxlKHRoaXMuI3JlbmRlcmVyLnBhdGgpO1xuICAgIH1cblxuICAgIHJldHVybiBicm93c2VyV2luZG93O1xuICB9XG5cbiAgYXN5bmMgcmVzdG9yZU9yQ3JlYXRlV2luZG93KHNob3cgPSBmYWxzZSkge1xuICAgIGxldCB3aW5kb3cgPSBCcm93c2VyV2luZG93LmdldEFsbFdpbmRvd3MoKS5maW5kKHcgPT4gIXcuaXNEZXN0cm95ZWQoKSk7XG5cbiAgICBpZiAod2luZG93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHdpbmRvdyA9IGF3YWl0IHRoaXMuY3JlYXRlV2luZG93KCk7XG4gICAgfVxuXG4gICAgaWYgKCFzaG93KSB7XG4gICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuaXNNaW5pbWl6ZWQoKSkge1xuICAgICAgd2luZG93LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICB3aW5kb3c/LnNob3coKTtcblxuICAgIGlmICh0aGlzLiNvcGVuRGV2VG9vbHMpIHtcbiAgICAgIHdpbmRvdz8ud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XG4gICAgfVxuXG4gICAgd2luZG93LmZvY3VzKCk7XG5cbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgYXN5bmMgcmVnaXN0ZXJIYW5kbGUoKSB7XG4gICAgcHJvdG9jb2wuaGFuZGxlKCd2aHMnLCAocmVxdWVzdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldC5mZXRjaCgnZmlsZTovLy9Vc2Vycy9jaHVobG9taW4vVmlkZW8vJUQwJTlDJUQwJUIwJUQwJUJBJUQxJTgxJUQwJUI4JUQwJUJDJTIwJUQwJTlBJUQwJUIwJUQxJTg2JTIwJUQxJTg3JUQwJUI4JUQxJTgyJUQwJUIwJUQwJUI1JUQxJTgyJTIwJUQxJTgwJUQxJThEJUQwJUJGJTIwJUQwJUJGJUQwJUJFJUQwJUI0JTIwJUQwJUIxJUQwJUI4JUQxJTgyJTIwJUQwJTlBJUQxJTgwJUQwJUJFJUQwJUIyJUQwJUJFJUQxJTgxJUQxJTgyJUQwJUJFJUQwJUJBLiUyMEBNYXhfS2F0cyUyMFt4UkpleDl3dVFkOF0ubW92ICcpXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2luZG93TWFuYWdlck1vZHVsZSguLi5hcmdzOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIFdpbmRvd01hbmFnZXI+KSB7XG4gIHJldHVybiBuZXcgV2luZG93TWFuYWdlciguLi5hcmdzKTtcbn1cbiIsImltcG9ydCB7QXBwTW9kdWxlfSBmcm9tICcuLi9BcHBNb2R1bGUuanMnO1xuaW1wb3J0IHtNb2R1bGVDb250ZXh0fSBmcm9tICcuLi9Nb2R1bGVDb250ZXh0LmpzJztcblxuY2xhc3MgQXBwbGljYXRpb25UZXJtaW5hdG9yT25MYXN0V2luZG93Q2xvc2UgaW1wbGVtZW50cyBBcHBNb2R1bGUge1xuICBlbmFibGUoe2FwcH06IE1vZHVsZUNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZCB7XG4gICAgYXBwLm9uKCd3aW5kb3ctYWxsLWNsb3NlZCcsICgpID0+IGFwcC5xdWl0KCkpO1xuICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRlcm1pbmF0ZUFwcE9uTGFzdFdpbmRvd0Nsb3NlKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQXBwbGljYXRpb25UZXJtaW5hdG9yT25MYXN0V2luZG93Q2xvc2U+KSB7XG4gIHJldHVybiBuZXcgQXBwbGljYXRpb25UZXJtaW5hdG9yT25MYXN0V2luZG93Q2xvc2UoLi4uYXJncyk7XG59XG4iLCJpbXBvcnQge0FwcE1vZHVsZX0gZnJvbSAnLi4vQXBwTW9kdWxlLmpzJztcbmltcG9ydCB7TW9kdWxlQ29udGV4dH0gZnJvbSAnLi4vTW9kdWxlQ29udGV4dC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBIYXJkd2FyZUFjY2VsZXJhdGlvbk1vZHVsZSBpbXBsZW1lbnRzIEFwcE1vZHVsZSB7XG4gIHJlYWRvbmx5ICNzaG91bGRCZURpc2FibGVkOiBib29sZWFuO1xuXG5cbiAgY29uc3RydWN0b3Ioe2VuYWJsZX06IHtlbmFibGU6IGJvb2xlYW59KSB7XG4gICAgdGhpcy4jc2hvdWxkQmVEaXNhYmxlZCA9ICFlbmFibGU7XG4gIH1cblxuICBlbmFibGUoe2FwcH06IE1vZHVsZUNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZCB7XG4gICAgaWYgKHRoaXMuI3Nob3VsZEJlRGlzYWJsZWQpIHtcbiAgICAgIGFwcC5kaXNhYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24oKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhcmR3YXJlQWNjZWxlcmF0aW9uTW9kZSguLi5hcmdzOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIEhhcmR3YXJlQWNjZWxlcmF0aW9uTW9kdWxlPikge1xuICByZXR1cm4gbmV3IEhhcmR3YXJlQWNjZWxlcmF0aW9uTW9kdWxlKC4uLmFyZ3MpO1xufVxuIiwiaW1wb3J0IHtBcHBNb2R1bGV9IGZyb20gJy4uL0FwcE1vZHVsZS5qcyc7XG5pbXBvcnQgZWxlY3Ryb25VcGRhdGVyLCB7dHlwZSBBcHBVcGRhdGVyLCB0eXBlIExvZ2dlcn0gZnJvbSAnZWxlY3Ryb24tdXBkYXRlcic7XG5cbnR5cGUgRG93bmxvYWROb3RpZmljYXRpb24gPSBQYXJhbWV0ZXJzPEFwcFVwZGF0ZXJbJ2NoZWNrRm9yVXBkYXRlc0FuZE5vdGlmeSddPlswXTtcblxuZXhwb3J0IGNsYXNzIEF1dG9VcGRhdGVyIGltcGxlbWVudHMgQXBwTW9kdWxlIHtcblxuICByZWFkb25seSAjbG9nZ2VyOiBMb2dnZXIgfCBudWxsO1xuICByZWFkb25seSAjbm90aWZpY2F0aW9uOiBEb3dubG9hZE5vdGlmaWNhdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICBsb2dnZXIgPSBudWxsLFxuICAgICAgZG93bmxvYWROb3RpZmljYXRpb24gPSB1bmRlZmluZWQsXG4gICAgfTpcbiAgICAgIHtcbiAgICAgICAgbG9nZ2VyPzogTG9nZ2VyIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgZG93bmxvYWROb3RpZmljYXRpb24/OiBEb3dubG9hZE5vdGlmaWNhdGlvblxuICAgICAgfSA9IHt9LFxuICApIHtcbiAgICB0aGlzLiNsb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy4jbm90aWZpY2F0aW9uID0gZG93bmxvYWROb3RpZmljYXRpb247XG4gIH1cblxuICBhc3luYyBlbmFibGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5ydW5BdXRvVXBkYXRlcigpO1xuICB9XG5cbiAgZ2V0QXV0b1VwZGF0ZXIoKTogQXBwVXBkYXRlciB7XG4gICAgLy8gVXNpbmcgZGVzdHJ1Y3R1cmluZyB0byBhY2Nlc3MgYXV0b1VwZGF0ZXIgZHVlIHRvIHRoZSBDb21tb25KUyBtb2R1bGUgb2YgJ2VsZWN0cm9uLXVwZGF0ZXInLlxuICAgIC8vIEl0IGlzIGEgd29ya2Fyb3VuZCBmb3IgRVNNIGNvbXBhdGliaWxpdHkgaXNzdWVzLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uLXVzZXJsYW5kL2VsZWN0cm9uLWJ1aWxkZXIvaXNzdWVzLzc5NzYuXG4gICAgY29uc3Qge2F1dG9VcGRhdGVyfSA9IGVsZWN0cm9uVXBkYXRlcjtcbiAgICByZXR1cm4gYXV0b1VwZGF0ZXI7XG4gIH1cblxuICBhc3luYyBydW5BdXRvVXBkYXRlcigpIHtcbiAgICBjb25zdCB1cGRhdGVyID0gdGhpcy5nZXRBdXRvVXBkYXRlcigpO1xuICAgIHRyeSB7XG4gICAgICB1cGRhdGVyLmxvZ2dlciA9IHRoaXMuI2xvZ2dlciB8fCBudWxsO1xuICAgICAgdXBkYXRlci5mdWxsQ2hhbmdlbG9nID0gdHJ1ZTtcblxuICAgICAgaWYgKGltcG9ydC5tZXRhLmVudi5WSVRFX0RJU1RSSUJVVElPTl9DSEFOTkVMKSB7XG4gICAgICAgIHVwZGF0ZXIuY2hhbm5lbCA9IGltcG9ydC5tZXRhLmVudi5WSVRFX0RJU1RSSUJVVElPTl9DSEFOTkVMO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgdXBkYXRlci5jaGVja0ZvclVwZGF0ZXNBbmROb3RpZnkodGhpcy4jbm90aWZpY2F0aW9uKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05vIHB1Ymxpc2hlZCB2ZXJzaW9ucycpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9VcGRhdGVyKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgQXV0b1VwZGF0ZXI+KSB7XG4gIHJldHVybiBuZXcgQXV0b1VwZGF0ZXIoLi4uYXJncyk7XG59XG4iLCJpbXBvcnQge0FwcE1vZHVsZX0gZnJvbSAnLi4vQXBwTW9kdWxlLmpzJztcbmltcG9ydCB7TW9kdWxlQ29udGV4dH0gZnJvbSAnLi4vTW9kdWxlQ29udGV4dC5qcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFNlY3VyaXR5UnVsZSBpbXBsZW1lbnRzIEFwcE1vZHVsZSB7XG4gIGVuYWJsZSh7YXBwfTogTW9kdWxlQ29udGV4dCk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHtcbiAgICBhcHAub24oJ3dlYi1jb250ZW50cy1jcmVhdGVkJywgKF8sIGNvbnRlbnRzKSA9PiB0aGlzLmFwcGx5UnVsZShjb250ZW50cykpXG4gIH1cblxuICBhYnN0cmFjdCBhcHBseVJ1bGUoY29udGVudHM6IEVsZWN0cm9uLldlYkNvbnRlbnRzKTogUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG59XG4iLCJpbXBvcnQge0Fic3RyYWN0U2VjdXJpdHlSdWxlfSBmcm9tICcuL0Fic3RyYWN0U2VjdXJpdHlNb2R1bGUuanMnO1xuaW1wb3J0ICogYXMgRWxlY3Ryb24gZnJvbSAnZWxlY3Ryb24nO1xuaW1wb3J0IHtVUkx9IGZyb20gJ25vZGU6dXJsJztcblxuLyoqXG4gKiBCbG9jayBuYXZpZ2F0aW9uIHRvIG9yaWdpbnMgbm90IG9uIHRoZSBhbGxvd2xpc3QuXG4gKlxuICogTmF2aWdhdGlvbiBleHBsb2l0cyBhcmUgcXVpdGUgY29tbW9uLiBJZiBhbiBhdHRhY2tlciBjYW4gY29udmluY2UgdGhlIGFwcCB0byBuYXZpZ2F0ZSBhd2F5IGZyb20gaXRzIGN1cnJlbnQgcGFnZSxcbiAqIHRoZXkgY2FuIHBvc3NpYmx5IGZvcmNlIHRoZSBhcHAgdG8gb3BlbiBhcmJpdHJhcnkgd2ViIHJlc291cmNlcy93ZWJzaXRlcyBvbiB0aGUgd2ViLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cuZWxlY3Ryb25qcy5vcmcvZG9jcy9sYXRlc3QvdHV0b3JpYWwvc2VjdXJpdHkjMTMtZGlzYWJsZS1vci1saW1pdC1uYXZpZ2F0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBCbG9ja05vdEFsbG93ZWRPcmlnaW5zIGV4dGVuZHMgQWJzdHJhY3RTZWN1cml0eVJ1bGUge1xuICByZWFkb25seSAjYWxsb3dlZE9yaWdpbnM6IFNldDxzdHJpbmc+O1xuXG4gIGNvbnN0cnVjdG9yKGFsbG93ZWRPcmlnaW5zOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuI2FsbG93ZWRPcmlnaW5zID0gc3RydWN0dXJlZENsb25lKGFsbG93ZWRPcmlnaW5zKVxuICB9XG5cbiAgYXBwbHlSdWxlKGNvbnRlbnRzOiBFbGVjdHJvbi5XZWJDb250ZW50cyk6IFByb21pc2U8dm9pZD4gfCB2b2lkIHtcblxuICAgIGNvbnRlbnRzLm9uKCd3aWxsLW5hdmlnYXRlJywgKGV2ZW50LCB1cmwpID0+IHtcbiAgICAgIGNvbnN0IHtvcmlnaW59ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgaWYgKHRoaXMuI2FsbG93ZWRPcmlnaW5zLmhhcyhvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJldmVudCBuYXZpZ2F0aW9uXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoaW1wb3J0Lm1ldGEuZW52LkRFVikge1xuICAgICAgICBjb25zb2xlLndhcm4oYEJsb2NrZWQgbmF2aWdhdGluZyB0byBkaXNhbGxvd2VkIG9yaWdpbjogJHtvcmlnaW59YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYWxsb3dJbnRlcm5hbE9yaWdpbnMoLi4uYXJnczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBCbG9ja05vdEFsbG93ZWRPcmlnaW5zPik6IEJsb2NrTm90QWxsb3dlZE9yaWdpbnMge1xuICByZXR1cm4gbmV3IEJsb2NrTm90QWxsb3dlZE9yaWdpbnMoLi4uYXJncyk7XG59XG4iLCJpbXBvcnQge0FwcE1vZHVsZX0gZnJvbSAnLi4vQXBwTW9kdWxlLmpzJztcbmltcG9ydCB7TW9kdWxlQ29udGV4dH0gZnJvbSAnLi4vTW9kdWxlQ29udGV4dC5qcyc7XG5pbXBvcnQge3NoZWxsfSBmcm9tICdlbGVjdHJvbic7XG5pbXBvcnQge1VSTH0gZnJvbSAnbm9kZTp1cmwnO1xuXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxVcmxzIGltcGxlbWVudHMgQXBwTW9kdWxlIHtcblxuICByZWFkb25seSAjZXh0ZXJuYWxVcmxzOiBTZXQ8c3RyaW5nPjtcblxuICBjb25zdHJ1Y3RvcihleHRlcm5hbFVybHM6IFNldDxzdHJpbmc+KSB7XG4gICAgdGhpcy4jZXh0ZXJuYWxVcmxzID0gZXh0ZXJuYWxVcmxzO1xuICB9XG5cbiAgZW5hYmxlKHthcHB9OiBNb2R1bGVDb250ZXh0KTogUHJvbWlzZTx2b2lkPiB8IHZvaWQge1xuICAgIGFwcC5vbignd2ViLWNvbnRlbnRzLWNyZWF0ZWQnLCAoXywgY29udGVudHMpID0+IHtcbiAgICAgIGNvbnRlbnRzLnNldFdpbmRvd09wZW5IYW5kbGVyKCh7dXJsfSkgPT4ge1xuICAgICAgICBjb25zdCB7b3JpZ2lufSA9IG5ldyBVUkwodXJsKTtcblxuICAgICAgICBpZiAodGhpcy4jZXh0ZXJuYWxVcmxzLmhhcyhvcmlnaW4pKSB7XG4gICAgICAgICAgc2hlbGwub3BlbkV4dGVybmFsKHVybCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAoaW1wb3J0Lm1ldGEuZW52LkRFVikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQmxvY2tlZCB0aGUgb3BlbmluZyBvZiBhIGRpc2FsbG93ZWQgZXh0ZXJuYWwgb3JpZ2luOiAke29yaWdpbn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXZlbnQgY3JlYXRpbmcgYSBuZXcgd2luZG93LlxuICAgICAgICByZXR1cm4ge2FjdGlvbjogJ2RlbnknfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFsbG93RXh0ZXJuYWxVcmxzKC4uLmFyZ3M6IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgRXh0ZXJuYWxVcmxzPikge1xuICByZXR1cm4gbmV3IEV4dGVybmFsVXJscyguLi5hcmdzKTtcbn1cbiIsImltcG9ydCB0eXBlIHtBcHBJbml0Q29uZmlnfSBmcm9tICcuL0FwcEluaXRDb25maWcuanMnO1xuaW1wb3J0IHtjcmVhdGVNb2R1bGVSdW5uZXJ9IGZyb20gJy4vTW9kdWxlUnVubmVyLmpzJztcbmltcG9ydCB7ZGlzYWxsb3dNdWx0aXBsZUFwcEluc3RhbmNlfSBmcm9tICcuL21vZHVsZXMvU2luZ2xlSW5zdGFuY2VBcHAuanMnO1xuaW1wb3J0IHtjcmVhdGVXaW5kb3dNYW5hZ2VyTW9kdWxlfSBmcm9tICcuL21vZHVsZXMvV2luZG93TWFuYWdlci5qcyc7XG5pbXBvcnQge3Rlcm1pbmF0ZUFwcE9uTGFzdFdpbmRvd0Nsb3NlfSBmcm9tICcuL21vZHVsZXMvQXBwbGljYXRpb25UZXJtaW5hdG9yT25MYXN0V2luZG93Q2xvc2UuanMnO1xuaW1wb3J0IHtoYXJkd2FyZUFjY2VsZXJhdGlvbk1vZGV9IGZyb20gJy4vbW9kdWxlcy9IYXJkd2FyZUFjY2VsZXJhdGlvbk1vZHVsZS5qcyc7XG5pbXBvcnQge2F1dG9VcGRhdGVyfSBmcm9tICcuL21vZHVsZXMvQXV0b1VwZGF0ZXIuanMnO1xuaW1wb3J0IHthbGxvd0ludGVybmFsT3JpZ2luc30gZnJvbSAnLi9tb2R1bGVzL0Jsb2NrTm90QWxsb3dkT3JpZ2lucy5qcyc7XG5pbXBvcnQge2FsbG93RXh0ZXJuYWxVcmxzfSBmcm9tICcuL21vZHVsZXMvRXh0ZXJuYWxVcmxzLmpzJztcbmltcG9ydCB7cHJvdG9jb2x9IGZyb20gJ2VsZWN0cm9uJztcblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdEFwcChpbml0Q29uZmlnOiBBcHBJbml0Q29uZmlnKSB7XG4gIGNvbnN0IG1vZHVsZVJ1bm5lciA9IGNyZWF0ZU1vZHVsZVJ1bm5lcigpXG4gICAgLmluaXQoY3JlYXRlV2luZG93TWFuYWdlck1vZHVsZSh7aW5pdENvbmZpZywgb3BlbkRldlRvb2xzOiBpbXBvcnQubWV0YS5lbnYuREVWfSkpXG4gICAgLy8gLmluaXQoZGlzYWxsb3dNdWx0aXBsZUFwcEluc3RhbmNlKCkpXG4gICAgLmluaXQodGVybWluYXRlQXBwT25MYXN0V2luZG93Q2xvc2UoKSlcbiAgICAuaW5pdChoYXJkd2FyZUFjY2VsZXJhdGlvbk1vZGUoe2VuYWJsZTogdHJ1ZX0pKVxuICAgIC5pbml0KGF1dG9VcGRhdGVyKCkpXG5cbiAgICAvLyBJbnN0YWxsIERldlRvb2xzIGV4dGVuc2lvbiBpZiBuZWVkZWRcbiAgICAvLyAuaW5pdChjaHJvbWVEZXZUb29sc0V4dGVuc2lvbih7ZXh0ZW5zaW9uOiAnVlVFSlMzX0RFVlRPT0xTJ30pKVxuXG4gICAgLy8gU2VjdXJpdHlcbiAgICAuaW5pdChhbGxvd0ludGVybmFsT3JpZ2lucyhcbiAgICAgIG5ldyBTZXQoaW5pdENvbmZpZy5yZW5kZXJlciBpbnN0YW5jZW9mIFVSTCA/IFtpbml0Q29uZmlnLnJlbmRlcmVyLm9yaWdpbl0gOiBbXSksXG4gICAgKSlcbiAgICAuaW5pdChhbGxvd0V4dGVybmFsVXJscyhcbiAgICAgIG5ldyBTZXQoXG4gICAgICAgIGluaXRDb25maWcucmVuZGVyZXIgaW5zdGFuY2VvZiBVUkxcbiAgICAgICAgICA/IFtcbiAgICAgICAgICAgICdodHRwczovL3ZpdGUuZGV2JyxcbiAgICAgICAgICAgICdodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZycsXG4gICAgICAgICAgICAnaHR0cHM6Ly9zb2xpZGpzLmNvbScsXG4gICAgICAgICAgICAnaHR0cHM6Ly9xd2lrLmRldicsXG4gICAgICAgICAgICAnaHR0cHM6Ly9saXQuZGV2JyxcbiAgICAgICAgICAgICdodHRwczovL3JlYWN0LmRldicsXG4gICAgICAgICAgICAnaHR0cHM6Ly9wcmVhY3Rqcy5jb20nLFxuICAgICAgICAgICAgJ2h0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZycsXG4gICAgICAgICAgICAnaHR0cHM6Ly92dWVqcy5vcmcnLFxuICAgICAgICAgIF1cbiAgICAgICAgICA6IFtdLFxuICAgICAgKSksXG4gICAgKTtcblxuICBhd2FpdCBtb2R1bGVSdW5uZXI7XG59XG4iXSwibmFtZXMiOlsiYXBwIiwiYXV0b1VwZGF0ZXIiLCJVUkwiXSwibWFwcGluZ3MiOiI7OztBQUlBLE1BQU0sYUFBMEM7QUFBQSxFQUM5QztBQUFBLEVBRUEsY0FBYztBQUNQLFNBQUEsV0FBVyxRQUFRLFFBQVE7QUFBQSxFQUFBO0FBQUEsRUFHbEMsS0FBd0MsYUFBc0YsWUFBdUg7QUFDL08sV0FBTyxLQUFLLFNBQVMsS0FBSyxhQUFhLFVBQVU7QUFBQSxFQUFBO0FBQUEsRUFHdkQsS0FBSyxRQUFtQjtBQUN0QixVQUFNLElBQUksT0FBTyxPQUFPLEtBQUssc0JBQXNCO0FBRW5ELFFBQUksYUFBYSxTQUFTO0FBQ3hCLFdBQUssV0FBVyxLQUFLLFNBQVMsS0FBSyxNQUFNLENBQUM7QUFBQSxJQUFBO0FBR3JDLFdBQUE7QUFBQSxFQUFBO0FBQUEsRUFHVCx1QkFBc0M7QUFDN0IsV0FBQTtBQUFBLE1BQ0w7QUFBQSxJQUNGO0FBQUEsRUFBQTtBQUVKO0FBRU8sU0FBUyxxQkFBcUI7QUFDbkMsU0FBTyxJQUFJLGFBQWE7QUFDMUI7QUMzQkEsU0FBUyw0QkFBNEI7QUFBQSxFQUNuQztBQUFBLElBQ0UsUUFBUTtBQUFBLElB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
